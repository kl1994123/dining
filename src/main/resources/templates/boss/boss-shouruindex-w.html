<!DOCTYPE html>
<html class="x-admin-sm" lang="en" xmlns:th="https://www.thymeleaf.org">
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title></title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width,user-scalable=yes, minimum-scale=0.4, initial-scale=0.8" />
    <meta http-equiv="Cache-Control" content="no-siteapp" />
    <!--    <link rel="stylesheet" th:href="@{../static/css/font.css}">-->
    <link rel="stylesheet" th:href="@{../../static/layui/css/layui.css}">
    <!--    <link rel="stylesheet" th:href="@{../static/css/xadmin.css}">-->
    <script type="text/javascript" src="https://cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script>
    <script th:src="@{../../static/layui/layui.js}" charset="utf-8"></script>
</head>
<body class="layui-layout-body">


<div class="layui-body">
    <!-- 内容主体区域 -->
    <div style="margin-top: 15%;">
        <div class="layui-btn-container" style="margin-left:4%;width:90%;" id="contentx">
            <!--                <div type="button" class="layui-btn" style="width: 180px;height: 150px;margin-left: 50px;font-size: 20px;background-color: #009688;margin-top: 20px;" onclick="gotoinfo(1)"><div style="height:30%;width: 100%;border-bottom: 1px solid white;padding-top: 15%;">当日收入：<span>1000</span></div><div style="height: 30%;width: 100%;padding-top: 15%;">较上日收入：<span>2000</span></div></div>-->
        </div>
    </div>
</div>

</div>
<script>
    //JavaScript代码区域
    layui.use('element', function(){
        var element = layui.element;

    });
    $(function () {
        // alert("进来了")
        //获取当前周数

       var weeks= weekInMonthCount();

        // alert(month)
        var html="";
        weeks=6;//测试用
        for(var i=1;i<=weeks;i++){
            // console.log(i)
            html+=' <div type="button" class="layui-btn" style="width: 180px;height: 150px;margin-left: 50px;font-size: 20px;background-color: #009688;margin-top: 20px;" onclick="gotoinfo(1)"><div style="height:30%;width: 100%;border-bottom: 1px solid white;padding-top: 15%;">'+i+'周</div><div style="height: 30%;width: 100%;padding-top: 15%;"><span>0</span></div></div>'
        }
        document.getElementById("contentx").innerHTML=html;
    })

    function weekInMonthCount() {
        //设置时间为本月的1号
        var date = new Date((new Date(this).setDate(1)) || (new Date()).setDate(1));
        // var date = new Date("2019-06-08");
        var firstWeekDate;
        console.log(date.getDay())
        if (date.getDay() === 0) { // 判断1号是周日
            firstWeekDate = 6;
        } else { // 判断1号是周一至周六之间
            firstWeekDate = date.getDay() - 1;
        }
        date.setMonth(date.getMonth() + 1);
        date.setDate(0);
        //  date.getDate();// 本月天数
        var monthHasDays = date.getDate() + firstWeekDate;
        return Math.ceil(monthHasDays / 7); // 计算本月有几周
    }

    function gotoinfo(id) {
        parent.gotoTab('周报','/user/boss/boss-shouruindex-r')
    }
</script>
</body>
</html>